<html>
  <head>
    <title>Submit form</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" type="text/css" rel="stylesheet">
  </head>
  <body>
    <div id="example">
      <div>
        <form id="submitted_by_checkbox" action="#submitted" data-watch-submit='{"submit.active":true}' data-watch-attr='{"submit.action":"action"}'>
          <div>
            <label for="submit_form">
              <input type="checkbox" data-emit='{"submit.active":"[checked]"}' id="submit_form"/>
              Submit me!
            </label>
          </div>

          <div>
            <label for="location_hash">
              Where do you want to go?
              <input type="text" data-emit='{"submit.action":"#{value}"}' id="location_hash"/>
            </label>
          </div>
        </form>
      </div>
    </div>

    <script type="text/javascript" src="okay.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.3.min.js" integrity="sha256-aaODHAgvwQW1bFOGXMeX+pC4PZIPsvn2h1sArYOhgXQ=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="okay-jquery.js"></script>
    <script type="text/javascript">
      function cancelCheckboxSubmissionByPreventDefault() {
        submitted_by_checkbox.addEventListener('submit', function(e) {
          e.preventDefault();
        });
      }

      function cancelCheckboxSubmissionByStopPropagation() {
        submitted_by_checkbox.addEventListener('submit', function(e) {
          e.stopPropagation();
        });
      }

      function cancelCheckboxSubmissionByReturn() {
        submitted_by_checkbox.addEventListener('submit', function(e) {
          return false
        });
      }
    </script>
  </body>
</html>
